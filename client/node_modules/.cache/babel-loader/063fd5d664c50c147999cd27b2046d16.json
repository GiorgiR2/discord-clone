{"ast":null,"code":"import _toConsumableArray from\"/home/giorgir/Desktop/web projects/discord-mern/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/giorgir/Desktop/web projects/discord-mern/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useReducer}from'react';import{useParams,useHistory}from'react-router-dom';import axios from'axios';import FormData from'form-data';import'./_chat.sass';import{EditSVG,MicSVGOff,MicSVGOn,CamSVGOff,CamSVGOn,ScreenShareOff,ScreenShareOn}from'../../styles/SVGs/_SVGs';import{appendFile}from'./_appendFile';import{getBasicData}from'../js/_getBasicData';import*as socks from'../js/_socketSide';// import { WebRTCFrame } from '../WebRTCInteractive/WebRTCInteractive';\nimport{VoiceFrame}from'../Voice/_voice';import{PopupEditCat,PopupAddCat}from'./_editCat';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var checkRoomId=function checkRoomId(roomId,setCategory,history,setVoiceMode){if(roomId===undefined)history.push(\"/chat/61ed960432479c682956802b\");// roomId = \"61ed960432479c682956802b\";\naxios.post(\"/api/roomId\",{id:roomId}).then(function(res){if(res.data.roomName!=\"try_again\"){setCategory(res.data.roomName);if(res.data.voiceMode)setVoiceMode(true);}else{history.push(\"/chat/61ed960432479c682956802b\");// roomId = \"61ed960432479c682956802b\";\nsetCategory(\"room 1\");setVoiceMode(false);}}).catch(function(err){return console.error(err);});};var logOut=function logOut(e,history){e.preventDefault();axios.post(\"/api/users/logout\",{junk:\"\"}).then(function(res){if(res.data.status===\"done\")history.push(\"/\");}).catch(function(err){return console.error(err);});socks.disconnect();};var newMessage=function newMessage(user,msg,date){return/*#__PURE__*/_jsxs(\"div\",{className:\"element\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"author\",children:user}),/*#__PURE__*/_jsx(\"div\",{className:\"message\",children:msg.split(\"\\n\").map(function(line){return/*#__PURE__*/_jsx(\"div\",{children:line});})}),/*#__PURE__*/_jsx(\"div\",{className:\"date\",children:date})]});};var CategoriesJSX=function CategoriesJSX(_ref){var cats=_ref.cats,display=_ref.display,setDisplay=_ref.setDisplay,setElementId=_ref.setElementId;return cats.map(function(cat){return/*#__PURE__*/_jsxs(\"li\",{className:\"category\",id:cat._id,children:[/*#__PURE__*/_jsxs(\"a\",{href:\"/chat/\".concat(cat._id),children:[\"# \",cat.name]}),/*#__PURE__*/_jsx(EditSVG,{id:cat._id,display:display,setDisplay:setDisplay,setElementId:setElementId})]});});};var Chat=function Chat(){var Categories=function Categories(){return/*#__PURE__*/ (// { user, cats, displayEdit, setDisplayEdit, displayAdd, setDisplayAdd, setElementId}\n_jsx(\"div\",{className:\"categories\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"top\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"topbar\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"user\",children:userName}),/*#__PURE__*/_jsx(\"h1\",{className:\"plus\",onClick:function onClick(){return setDisplayAdd(!displayAdd);},children:\"+\"})]}),/*#__PURE__*/_jsx(\"nav\",{children:/*#__PURE__*/_jsx(\"ul\",{id:\"ul-id\",children:/*#__PURE__*/_jsx(CategoriesJSX,{cats:catjson,display:displayEdit,setDisplay:setDisplayEdit,setElementId:setElementId})})})]})}));};var Messages=function Messages(){// { authentication, room, roomId, elements, user }\nvar sendFile=function sendFile(){// sendFile(e.target.files[0])\nvar file=selectedFile;console.log(\"shit\",file);// const formData = new FormData();\n// formData.append(\"user\", userName);\n// // formData.append(\"time\", \"00:00\");\n// formData.append(\"size\", file.size); // in bites\n// // let fileF = \"\";\n// formData.append(\"file\", selectedFile, file.name);\n// axios.post(\"/upload\", formData)\n//      .then(res => {\n//         console.log(\"Successfully Uploaded...\");\n//      })\n//      .catch(err => alert(err));\n};var _useState=useState(null),_useState2=_slicedToArray(_useState,2),selectedFile=_useState2[0],setSelectedFile=_useState2[1];useEffect(function(){if(selectedFile!=null)sendFile();},[selectedFile]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{id:\"chat-screen\",children:[elements.map(function(el){return newMessage(el.user,el.msg,el.date);}),/*#__PURE__*/_jsx(\"div\",{id:\"last-element\"})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"input\",children:[/*#__PURE__*/_jsx(\"textarea\",{id:\"text-area\",type:\"text\",placeholder:\"Message #\".concat(category),onKeyPress:function onKeyPress(e){return socks.sendMessage(e,userName,category,roomId,authentication);}}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",value:selectedFile,onChange:function onChange(e){return setSelectedFile(e.target.files[0]);}})]})]});};var Center=function Center(){return/*#__PURE__*/_jsxs(\"div\",{className:\"messages\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"top\",children:[/*#__PURE__*/_jsxs(\"h1\",{id:\"category\",children:[\"# \",category]}),/*#__PURE__*/_jsx(\"h1\",{id:\"log_out\",onClick:function onClick(event){logOut(event,history);},children:\"Log out\"})]}),voiceMode?/*#__PURE__*/_jsx(VoiceFrame,{history:history,roomId:roomId,userName:userName}):/*#__PURE__*/_jsx(Messages,{})]});};var StatusBar=function StatusBar(){return/*#__PURE__*/ (// { online, offline }\n_jsxs(\"div\",{className:\"status-bar\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"ACTIVE - \",onlineList.length]}),onlineList.map(function(el){return/*#__PURE__*/_jsxs(\"h2\",{className:\"online\",children:[\"--- \",el]});}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"OFFLINE - \",offlineList.length]}),offlineList.map(function(el){return/*#__PURE__*/_jsxs(\"h2\",{className:\"offline\",children:[\"--- \",el]});})]}));};var reducer=function reducer(state,action){// pass\n};var initialState={setOnline:\"\",setOffline:\"\",onlineList:[],offlineList:[]};var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),online=_useState4[0],setOnline=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),offline=_useState6[0],setOffline=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),onlineList=_useState8[0],setOnlineList=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),offlineList=_useState10[0],setOfflineList=_useState10[1];// const [state, dispatch] = useReducer(reducer, initialState);\nvar _useParams=useParams(),roomId=_useParams.roomId;var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),userName=_useState12[0],setUserName=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),category=_useState14[0],setCategory=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),catjson=_useState16[0],setCatJson=_useState16[1];var _useState17=useState(),_useState18=_slicedToArray(_useState17,2),authentication=_useState18[0],setAuthentication=_useState18[1];var _useState19=useState({user:\"author\",msg:\"message\",date:\"date\"}),_useState20=_slicedToArray(_useState19,2),element=_useState20[0],setElement=_useState20[1];var _useState21=useState([]),_useState22=_slicedToArray(_useState21,2),elements=_useState22[0],setElements=_useState22[1];var _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),displayEdit=_useState24[0],setDisplayEdit=_useState24[1];var _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),displayAdd=_useState26[0],setDisplayAdd=_useState26[1];var _useState27=useState(),_useState28=_slicedToArray(_useState27,2),elementId=_useState28[0],setElementId=_useState28[1];var _useState29=useState(false),_useState30=_slicedToArray(_useState29,2),voiceMode=_useState30[0],setVoiceMode=_useState30[1];var history=useHistory();useEffect(function(){checkRoomId(roomId,setCategory,history,setVoiceMode);getBasicData(history,setUserName,setAuthentication,setCatJson,\"chat\");},[]);useEffect(function(){if(userName!==\"\")socks.main(category,userName,setElement,setOnline,setOffline);},[userName]);useEffect(function(){setElements([].concat(_toConsumableArray(elements),[element]));},[element]);useEffect(function(){var el=document.getElementById(\"last-element\");el.scrollIntoView();},[elements]);useEffect(function(){if(online!==\"\"){var new_offlineList=offlineList.filter(function(element){return element!==online;});setOfflineList(new_offlineList);setOnlineList([].concat(_toConsumableArray(onlineList),[online]));}},[online]);useEffect(function(){if(offline!==\"\"){var new_onlineList=onlineList.filter(function(element){return element!==offline;});setOnlineList(new_onlineList);setOfflineList([].concat(_toConsumableArray(offlineList),[offline]));}},[offline]);return/*#__PURE__*/_jsxs(\"div\",{className:\"chat\",children:[displayEdit?/*#__PURE__*/_jsx(PopupEditCat,{setDisplay:setDisplayEdit,catjson:catjson,setCatJson:setCatJson,elementId:elementId}):null,displayAdd?/*#__PURE__*/_jsx(PopupAddCat,{setDisplay:setDisplayAdd,catjson:catjson,setCatJson:setCatJson}):null,/*#__PURE__*/_jsx(Categories,{}),/*#__PURE__*/_jsx(Center,{}),/*#__PURE__*/_jsx(StatusBar,{})]});};export default Chat;","map":{"version":3,"names":["React","useState","useEffect","useReducer","useParams","useHistory","axios","FormData","EditSVG","MicSVGOff","MicSVGOn","CamSVGOff","CamSVGOn","ScreenShareOff","ScreenShareOn","appendFile","getBasicData","socks","VoiceFrame","PopupEditCat","PopupAddCat","checkRoomId","roomId","setCategory","history","setVoiceMode","undefined","push","post","id","then","res","data","roomName","voiceMode","catch","err","console","error","logOut","e","preventDefault","junk","status","disconnect","newMessage","user","msg","date","split","map","line","CategoriesJSX","cats","display","setDisplay","setElementId","cat","_id","name","Chat","Categories","userName","setDisplayAdd","displayAdd","catjson","displayEdit","setDisplayEdit","Messages","sendFile","file","selectedFile","log","setSelectedFile","elements","el","category","sendMessage","authentication","target","files","Center","event","StatusBar","onlineList","length","offlineList","reducer","state","action","initialState","setOnline","setOffline","online","offline","setOnlineList","setOfflineList","setUserName","setCatJson","setAuthentication","element","setElement","setElements","elementId","main","document","getElementById","scrollIntoView","new_offlineList","filter","new_onlineList"],"sources":["/home/giorgir/Desktop/web projects/discord-mern/client/src/components/Chat/Chat.js"],"sourcesContent":["import React, { useState, useEffect, useReducer } from 'react';\r\n\r\nimport { useParams, useHistory } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport FormData from 'form-data';\r\n\r\nimport './_chat.sass';\r\nimport { EditSVG, MicSVGOff, MicSVGOn, CamSVGOff, CamSVGOn, ScreenShareOff, ScreenShareOn } from '../../styles/SVGs/_SVGs';\r\n\r\nimport { appendFile } from './_appendFile';\r\nimport { getBasicData } from '../js/_getBasicData';\r\nimport * as socks from '../js/_socketSide';\r\n\r\n// import { WebRTCFrame } from '../WebRTCInteractive/WebRTCInteractive';\r\nimport { VoiceFrame } from '../Voice/_voice';\r\n\r\nimport { PopupEditCat, PopupAddCat } from './_editCat';\r\n\r\nconst checkRoomId = (roomId, setCategory, history, setVoiceMode) => {\r\n    if (roomId === undefined)\r\n        history.push(\"/chat/61ed960432479c682956802b\");\r\n        // roomId = \"61ed960432479c682956802b\";\r\n\r\n    axios.post(\"/api/roomId\", { id: roomId })\r\n    .then(res => {\r\n        if (res.data.roomName != \"try_again\"){\r\n            setCategory(res.data.roomName);\r\n            if (res.data.voiceMode)\r\n                setVoiceMode(true);\r\n        }\r\n        else{\r\n            history.push(\"/chat/61ed960432479c682956802b\");\r\n            // roomId = \"61ed960432479c682956802b\";\r\n            setCategory(\"room 1\");\r\n            setVoiceMode(false);\r\n        }\r\n    })\r\n    .catch(err => console.error(err));\r\n}\r\n\r\nconst logOut = (e, history) => {\r\n    e.preventDefault();\r\n    axios.post(\"/api/users/logout\", { junk: \"\" })\r\n    .then(res => {\r\n        if (res.data.status === \"done\")\r\n            history.push(\"/\");\r\n    })\r\n    .catch(err => console.error(err));\r\n\r\n    socks.disconnect();\r\n}\r\n\r\nconst newMessage = (user, msg, date) => (\r\n    <div className=\"element\">\r\n        <div className=\"author\">\r\n            {user}\r\n        </div>\r\n        <div className=\"message\">\r\n            {msg.split(\"\\n\").map(line => <div>{line}</div>)}\r\n        </div>\r\n        <div className=\"date\">\r\n           {date}\r\n        </div>\r\n    </div>\r\n)\r\n\r\nconst CategoriesJSX = ({ cats, display, setDisplay, setElementId }) =>\r\n    cats.map(cat => <li className=\"category\" id={cat._id}>\r\n        <a href={`/chat/${cat._id}`}># {cat.name}</a>\r\n        <EditSVG id={cat._id} display={display} setDisplay={setDisplay} setElementId={setElementId} />\r\n    </li>);\r\n\r\nconst Chat = () => {\r\n    const Categories = () => (\r\n        // { user, cats, displayEdit, setDisplayEdit, displayAdd, setDisplayAdd, setElementId}\r\n        <div className=\"categories\">\r\n            <div className=\"top\">\r\n                <div className=\"topbar\">\r\n                    <h1 className=\"user\">{userName}</h1>\r\n                    <h1 className=\"plus\" onClick={() => setDisplayAdd(!displayAdd)}>+</h1>\r\n                </div>\r\n    \r\n                <nav>\r\n                    <ul id=\"ul-id\">\r\n                        <CategoriesJSX cats={catjson} display={displayEdit} setDisplay={setDisplayEdit} setElementId={setElementId} />\r\n                    </ul>\r\n                </nav>\r\n            </div>\r\n        </div>\r\n    )\r\n    \r\n    const Messages = () => { // { authentication, room, roomId, elements, user }\r\n        const sendFile = () => {\r\n            // sendFile(e.target.files[0])\r\n            let file = selectedFile;\r\n            console.log(\"shit\", file);\r\n            // const formData = new FormData();\r\n            // formData.append(\"user\", userName);\r\n            // // formData.append(\"time\", \"00:00\");\r\n            // formData.append(\"size\", file.size); // in bites\r\n            // // let fileF = \"\";\r\n            // formData.append(\"file\", selectedFile, file.name);\r\n            // axios.post(\"/upload\", formData)\r\n            //      .then(res => {\r\n            //         console.log(\"Successfully Uploaded...\");\r\n            //      })\r\n            //      .catch(err => alert(err));\r\n        }\r\n\r\n        const [selectedFile, setSelectedFile] = useState(null);\r\n\r\n        useEffect(() => {\r\n            if (selectedFile != null)\r\n                sendFile();\r\n        }, [selectedFile]);\r\n\r\n        return (\r\n        <>\r\n            <div id=\"chat-screen\">\r\n                {elements.map(el => newMessage(el.user, el.msg, el.date))}\r\n                <div id=\"last-element\"></div>\r\n            </div>\r\n            <div id=\"input\">\r\n                <textarea\r\n                    id=\"text-area\"\r\n                    type=\"text\"\r\n                    placeholder={`Message #${category}`}\r\n                    onKeyPress={(e) => socks.sendMessage(e, userName, category, roomId, authentication)}\r\n                ></textarea>\r\n                {/* <svg viewBox=\"0 0 24 24\" onClick={(event) => appendFile(event)}>\r\n                    <path\r\n                    fill=\"currentColor\"\r\n                    d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z\">\r\n                    </path>\r\n                </svg> */}\r\n                <input type=\"file\" value={selectedFile} onChange={(e) => setSelectedFile(e.target.files[0])}/>\r\n            </div>\r\n        </>\r\n        );\r\n    }\r\n    \r\n    const Center = () => (\r\n        <div className=\"messages\">\r\n            <div id=\"top\">\r\n                <h1 id=\"category\"># {category}</h1>\r\n                <h1 id=\"log_out\" onClick={(event) => {logOut(event, history)}}>Log out</h1>\r\n            </div>\r\n\r\n            {voiceMode\r\n            ? <VoiceFrame history={history} roomId={roomId} userName={userName} />\r\n            : <Messages/>}\r\n        </div>\r\n    )\r\n\r\n    const StatusBar = () => ( // { online, offline }\r\n        <div className=\"status-bar\">\r\n            <h2>ACTIVE - {onlineList.length}</h2>\r\n            {onlineList.map(el => <h2 className=\"online\">--- {el}</h2>)}\r\n            <h2>OFFLINE - {offlineList.length}</h2>\r\n            {offlineList.map(el => <h2 className=\"offline\">--- {el}</h2>)}\r\n        </div>\r\n    )\r\n\r\n    const reducer = (state, action) => {\r\n        // pass\r\n    }\r\n\r\n    const initialState = {\r\n        setOnline: \"\",\r\n        setOffline: \"\",\r\n        onlineList: [],\r\n        offlineList: [],\r\n    };\r\n\r\n    const [online, setOnline] = useState(\"\");\r\n    const [offline, setOffline] = useState(\"\");\r\n    const [onlineList, setOnlineList] = useState([]);\r\n    const [offlineList, setOfflineList] = useState([]);\r\n    \r\n    // const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n    let { roomId } = useParams();\r\n\r\n    const [userName, setUserName] = useState(\"\");\r\n    const [category, setCategory] = useState(\"\");\r\n\r\n    const [catjson, setCatJson] = useState([]);\r\n    const [authentication, setAuthentication] = useState();\r\n\r\n    const [element, setElement] = useState({\r\n        user: \"author\",\r\n        msg: \"message\",\r\n        date: \"date\"});\r\n    const [elements, setElements] = useState([]);\r\n\r\n    const [displayEdit, setDisplayEdit] = useState(false);\r\n    const [displayAdd, setDisplayAdd] = useState(false);\r\n    const [elementId, setElementId] = useState();\r\n\r\n    const [voiceMode, setVoiceMode] = useState(false);\r\n\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        checkRoomId(roomId, setCategory, history, setVoiceMode);\r\n\r\n        getBasicData(history, setUserName, setAuthentication, setCatJson, \"chat\");\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (userName !== \"\")\r\n            socks.main(category, userName, setElement, setOnline, setOffline);\r\n    }, [userName]);\r\n\r\n    useEffect(() => {\r\n        setElements([...elements, element]);\r\n    }, [element]);\r\n\r\n    useEffect(() => {\r\n        let el = document.getElementById(\"last-element\");\r\n        el.scrollIntoView();\r\n    }, [elements]);\r\n\r\n    useEffect(() => {\r\n        if (online !== \"\"){\r\n            let new_offlineList = offlineList.filter(element => element !== online)\r\n            setOfflineList(new_offlineList);\r\n            setOnlineList([...onlineList, online]);\r\n        }\r\n    }, [online]);\r\n\r\n    useEffect(() => {\r\n        if (offline !== \"\"){\r\n            let new_onlineList = onlineList.filter(element => element !== offline)\r\n            setOnlineList(new_onlineList);\r\n            setOfflineList([...offlineList, offline]);\r\n        }\r\n    }, [offline]);\r\n\r\n    return (\r\n        <div className=\"chat\">\r\n            { displayEdit ?\r\n            <PopupEditCat\r\n                setDisplay={setDisplayEdit}\r\n                catjson={catjson}\r\n                setCatJson={setCatJson}\r\n                elementId={elementId}\r\n            /> : null\r\n            }\r\n            { displayAdd ?\r\n            <PopupAddCat\r\n                setDisplay={setDisplayAdd}\r\n                catjson={catjson}\r\n                setCatJson={setCatJson}\r\n            /> : null\r\n            }\r\n\r\n            <Categories/>\r\n            <Center/>\r\n            <StatusBar/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Chat;"],"mappings":"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"},"metadata":{},"sourceType":"module"}