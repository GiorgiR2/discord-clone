{"ast":null,"code":"var _jsxFileName = \"/home/giorgir/Desktop/web projects/discord-mern/client/src/components/Login/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom'; // { Link, Redirect }\n\nimport axios from 'axios';\nimport { getBasicData } from '../js/_getBasicData';\nimport './_login.sass';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst sendLoginData = (e, user, pswrd, history) => {\n  e.preventDefault();\n  let data = {\n    username: user,\n    password: pswrd\n  };\n  axios.post(\"/api/users/login\", data).then(res => {\n    if (res.data.data === \"done\") {\n      history.push(`/chat`); // /?id=${res.data.data}\n    } else {\n      alert(\"Try again...\");\n    }\n  }).catch(err => console.error('fcking error...', err));\n};\n\nconst Login = () => {\n  _s();\n\n  document.title = \"login section\";\n  const [userName, setUserName] = useState();\n  const [password, setPassword] = useState();\n  const history = useHistory();\n  const queryParams = new URLSearchParams(window.location.search); // console.log(queryParams.get('status')===null);\n\n  useEffect(() => {\n    if (queryParams.get('status') === \"done\") {\n      // successfully registered\n      alert(\"registration is done...\");\n    }\n\n    getBasicData(history);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"title\",\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"username\",\n      children: \"UserName:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"password\",\n      children: \"Password:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      className: \"e-name\",\n      rows: \"1\",\n      cols: \"20\",\n      onChange: event => setUserName(event.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"password\",\n      className: \"e-pass\",\n      rows: \"1\",\n      cols: \"20\",\n      onChange: event => setPassword(event.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: event => sendLoginData(event, userName, password, history),\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"go-button\",\n        children: \"GO\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n      href: \"/signup\",\n      className: \"sign-up-button\",\n      children: \"Sign up\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Login, \"VDcw6u9oheWgKVfL2eCxKvfVLO4=\", false, function () {\n  return [useHistory];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useEffect","useHistory","axios","getBasicData","sendLoginData","e","user","pswrd","history","preventDefault","data","username","password","post","then","res","push","alert","catch","err","console","error","Login","document","title","userName","setUserName","setPassword","queryParams","URLSearchParams","window","location","search","get","event","target","value"],"sources":["/home/giorgir/Desktop/web projects/discord-mern/client/src/components/Login/Login.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom'; // { Link, Redirect }\r\nimport axios from 'axios';\r\n\r\nimport { getBasicData } from '../js/_getBasicData';\r\n\r\nimport './_login.sass';\r\n\r\nconst sendLoginData = (e, user, pswrd, history) => {\r\n    e.preventDefault();\r\n    let data = {\r\n        username: user,\r\n        password: pswrd\r\n    };\r\n\r\n    axios.post(\"/api/users/login\", data)\r\n    .then(res => {\r\n        if (res.data.data === \"done\") {\r\n            history.push(`/chat`); // /?id=${res.data.data}\r\n        }\r\n        else {\r\n            alert(\"Try again...\");\r\n        }\r\n    })\r\n    .catch(err => console.error('fcking error...', err));\r\n};\r\n\r\nconst Login = () => {\r\n    document.title = \"login section\";\r\n\r\n    const [userName, setUserName] = useState();\r\n    const [password, setPassword] = useState();\r\n    const history = useHistory();\r\n\r\n    const queryParams = new URLSearchParams(window.location.search);\r\n    // console.log(queryParams.get('status')===null);\r\n    useEffect(() => {\r\n        if (queryParams.get('status') === \"done\"){ // successfully registered\r\n            alert(\"registration is done...\");\r\n        }\r\n\r\n        getBasicData(history);\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"login\">\r\n            <h2 className=\"title\">Login</h2>\r\n            <h2 className=\"username\">UserName:</h2>\r\n            <h2 className=\"password\">Password:</h2>\r\n\r\n            <input type=\"text\" className=\"e-name\" rows=\"1\" cols=\"20\" onChange={(event) => setUserName(event.target.value)} />\r\n            <input type=\"password\" className=\"e-pass\" rows=\"1\" cols=\"20\" onChange={(event) => setPassword(event.target.value)} />\r\n\r\n            <form onSubmit={(event) => sendLoginData(event, userName, password, history)}>\r\n                <button type=\"submit\" className=\"go-button\">\r\n                    GO\r\n                </button>\r\n            </form>\r\n\r\n            <a href=\"/signup\" className=\"sign-up-button\">Sign up</a>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module"}