{"ast":null,"code":"import React,{useRef}from\"react\";import axios from\"axios\";import\"./_editCat.sass\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PopupEditCat=function PopupEditCat(_ref){var setDisplay=_ref.setDisplay,catjson=_ref.catjson,setCatJson=_ref.setCatJson,elementId=_ref.elementId;var newNameRef=useRef();return/*#__PURE__*/_jsx(\"div\",{className:\"popup\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"center\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"label\",children:\"New Name:\"}),/*#__PURE__*/_jsx(\"input\",{rows:\"1\",columns:\"20\",ref:newNameRef}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"cancel\",onClick:function onClick(){return setDisplay(false);},children:\"CANCEL\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"go\",onClick:function onClick(event){return sendEditCommand(event,elementId,catjson,setCatJson,newNameRef.current.value,setDisplay);},children:\"GO\"})]})]})});};var PopupAddCat=function PopupAddCat(_ref2){var setDisplay=_ref2.setDisplay,catjson=_ref2.catjson,setCatJson=_ref2.setCatJson;var newNameRef=useRef();return/*#__PURE__*/_jsx(\"div\",{className:\"popup\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"center\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"label\",children:\"Add Category:\"}),/*#__PURE__*/_jsx(\"input\",{rows:\"1\",columns:\"20\",ref:newNameRef}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"cancel\",onClick:function onClick(){return setDisplay(false);},children:\"CANCEL\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"go\",onClick:function onClick(event){return sendAddCommand(event,catjson,setCatJson,newNameRef.current.value);},children:\"GO\"})]})]})});};var sendEditCommand=function sendEditCommand(event,elementId,catJson,setCatJson,newName,setDisplay){// console.log(\"newName =\", newName);\n// console.log(\"id =\", elementId);\n// console.log(catJson);\nif(newName!=\"\"){axios.post(\"/api/editCat\",{catId:elementId,newCatName:newName}).then(function(res){if(res.data.status===\"done\"){// update category name\nsetDisplay(false);var newJson=catJson.map(function(cat){if(cat._id===elementId){return{name:newName,position:cat.position,voice:cat.voice,__v:cat.__v,_id:cat._id};}else return cat;});setCatJson(newJson);}else if(res.data.status===\"try again\"){alert(\"try again...\");}}).catch(function(err){return console.error(err);});}};var sendAddCommand=function sendAddCommand(event,catJson,setCatJson,newName){// console.log(\"newName =\", newName);\n// console.log(catJson);\nif(newName!==\"\"){alert(\"function not available...\");// axios.post(\"/api/addCat\", { newCatName: newName })\n// .then(res => {\n//     if (res.data.status === \"done\"){\n//         // add cat\n//         let newJson = [...catJson, ];\n//         setCatJson(newJson);\n//     }\n//     else if (res.data.status === \"try again\"){\n//         alert(\"try again...\");\n//     }\n// })\n// .catch(err => console.error(err));\n}};var editCat=function editCat(event,id,display,setDisplay,setElementId){event.preventDefault();setDisplay(true);setElementId(id);// console.log(\"id\", id, display);\n};export{PopupEditCat,PopupAddCat,editCat};","map":{"version":3,"names":["React","useRef","axios","PopupEditCat","setDisplay","catjson","setCatJson","elementId","newNameRef","event","sendEditCommand","current","value","PopupAddCat","sendAddCommand","catJson","newName","post","catId","newCatName","then","res","data","status","newJson","map","cat","_id","name","position","voice","__v","alert","catch","err","console","error","editCat","id","display","setElementId","preventDefault"],"sources":["/home/giorgir/Desktop/web projects/discord-mern/client/src/components/Chat/_editCat.js"],"sourcesContent":["import React, { useRef } from \"react\";\r\n\r\nimport axios from \"axios\";\r\n\r\nimport \"./_editCat.sass\";\r\n\r\nconst PopupEditCat = ({ setDisplay, catjson, setCatJson, elementId }) => {\r\n    const newNameRef = useRef();\r\n\r\n    return(\r\n        <div className=\"popup\">\r\n            <div className=\"center\">\r\n                <h4 className=\"label\">New Name:</h4>\r\n                <input rows=\"1\" columns=\"20\" ref={newNameRef}/>\r\n\r\n                <div className=\"buttons\">\r\n                    <h4 className=\"cancel\" onClick={() => setDisplay(false)}>\r\n                        CANCEL\r\n                    </h4>\r\n                    <h4 className=\"go\" onClick={(event) =>\r\n                        sendEditCommand(event, elementId, catjson, setCatJson, newNameRef.current.value, setDisplay)}>\r\n                        GO\r\n                    </h4>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst PopupAddCat = ({ setDisplay, catjson, setCatJson }) => {\r\n    const newNameRef = useRef();\r\n\r\n    return(\r\n        <div className=\"popup\">\r\n            <div className=\"center\">\r\n                <h4 className=\"label\">Add Category:</h4>\r\n\r\n                <input rows=\"1\" columns=\"20\" ref={newNameRef}/>\r\n\r\n                <div className=\"buttons\">\r\n                    <h4 className=\"cancel\" onClick={() => setDisplay(false)}>\r\n                        CANCEL\r\n                    </h4>\r\n                    <h4 className=\"go\" onClick={(event) => sendAddCommand(event, catjson, setCatJson, newNameRef.current.value)}>\r\n                        GO\r\n                    </h4>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst sendEditCommand = (event, elementId, catJson, setCatJson, newName, setDisplay) => {\r\n    // console.log(\"newName =\", newName);\r\n    // console.log(\"id =\", elementId);\r\n    // console.log(catJson);\r\n    if (newName != \"\"){\r\n        axios.post(\"/api/editCat\", { catId: elementId, newCatName: newName })\r\n        .then(res => {\r\n            if (res.data.status === \"done\"){\r\n                // update category name\r\n\r\n                setDisplay(false);\r\n                let newJson = catJson.map(cat => {\r\n                    if (cat._id === elementId){\r\n                        return {\r\n                            name: newName,\r\n                            position: cat.position,\r\n                            voice: cat.voice,\r\n                            __v: cat.__v,\r\n                            _id: cat._id\r\n                        };\r\n                    }\r\n                    else\r\n                        return cat;\r\n                });\r\n\r\n                setCatJson(newJson);\r\n            }\r\n            else if (res.data.status === \"try again\"){\r\n                alert(\"try again...\");\r\n            }\r\n        })\r\n        .catch(err => console.error(err));\r\n    }\r\n}\r\n\r\nconst sendAddCommand = (event, catJson, setCatJson, newName) => {\r\n    // console.log(\"newName =\", newName);\r\n    // console.log(catJson);\r\n    if (newName !== \"\"){\r\n        alert(\"function not available...\");\r\n        // axios.post(\"/api/addCat\", { newCatName: newName })\r\n        // .then(res => {\r\n        //     if (res.data.status === \"done\"){\r\n        //         // add cat\r\n        //         let newJson = [...catJson, ];\r\n\r\n        //         setCatJson(newJson);\r\n        //     }\r\n        //     else if (res.data.status === \"try again\"){\r\n        //         alert(\"try again...\");\r\n        //     }\r\n        // })\r\n        // .catch(err => console.error(err));\r\n    }\r\n}\r\n\r\nconst editCat = (event, id, display, setDisplay, setElementId) => {\r\n    event.preventDefault();\r\n    setDisplay(true);\r\n    setElementId(id);\r\n\r\n    // console.log(\"id\", id, display);\r\n}\r\n\r\nexport {\r\n    PopupEditCat, PopupAddCat, editCat,\r\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}