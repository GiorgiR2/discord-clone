{"ast":null,"code":"var _jsxFileName = \"/home/giorgir/Desktop/web projects/discord-mern/client/src/components/Login/Login.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom'; // { Link, Redirect }\n\nimport axios from 'axios';\nimport { getBasicData } from '../js/_getBasicData';\nimport './_login.sass';\n\nconst sendLoginData = (e, user, pswrd, history) => {\n  e.preventDefault();\n  let data = {\n    username: user,\n    password: pswrd\n  };\n  axios.post(\"/api/users/login\", data).then(res => {\n    if (res.data.data === \"done\") {\n      history.push(`/chat`); // /?id=${res.data.data}\n    } else {\n      alert(\"Try again...\");\n    }\n  }).catch(err => console.error('fcking error...', err));\n};\n\nconst Login = () => {\n  document.title = \"login section\";\n  const [userName, setUserName] = useState();\n  const [password, setPassword] = useState();\n  const history = useHistory();\n  const queryParams = new URLSearchParams(window.location.search); // console.log(queryParams.get('status')===null);\n\n  useEffect(() => {\n    if (queryParams.get('status') === \"done\") {\n      // successfully registered\n      alert(\"registration is done...\");\n    }\n\n    getBasicData(history);\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  }, \"UserName:\"), /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, \"Password:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"e-name\",\n    rows: \"1\",\n    cols: \"20\",\n    onChange: event => setUserName(event.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    className: \"e-pass\",\n    rows: \"1\",\n    cols: \"20\",\n    onChange: event => setPassword(event.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: event => sendLoginData(event, userName, password, history),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"go-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }, \"GO\")), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/signup\",\n    className: \"sign-up-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, \"Sign up\"));\n};\n\nexport default Login;","map":{"version":3,"sources":["/home/giorgir/Desktop/web projects/discord-mern/client/src/components/Login/Login.js"],"names":["React","useState","useEffect","useHistory","axios","getBasicData","sendLoginData","e","user","pswrd","history","preventDefault","data","username","password","post","then","res","push","alert","catch","err","console","error","Login","document","title","userName","setUserName","setPassword","queryParams","URLSearchParams","window","location","search","get","event","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom'; // { Link, Redirect }\r\nimport axios from 'axios';\r\n\r\nimport { getBasicData } from '../js/_getBasicData';\r\n\r\nimport './_login.sass';\r\n\r\nconst sendLoginData = (e, user, pswrd, history) => {\r\n    e.preventDefault();\r\n    let data = {\r\n        username: user,\r\n        password: pswrd\r\n    };\r\n\r\n    axios.post(\"/api/users/login\", data)\r\n    .then(res => {\r\n        if (res.data.data === \"done\") {\r\n            history.push(`/chat`); // /?id=${res.data.data}\r\n        }\r\n        else {\r\n            alert(\"Try again...\");\r\n        }\r\n    })\r\n    .catch(err => console.error('fcking error...', err));\r\n};\r\n\r\nconst Login = () => {\r\n    document.title = \"login section\";\r\n\r\n    const [userName, setUserName] = useState();\r\n    const [password, setPassword] = useState();\r\n    const history = useHistory();\r\n\r\n    const queryParams = new URLSearchParams(window.location.search);\r\n    // console.log(queryParams.get('status')===null);\r\n    useEffect(() => {\r\n        if (queryParams.get('status') === \"done\"){ // successfully registered\r\n            alert(\"registration is done...\");\r\n        }\r\n\r\n        getBasicData(history);\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"login\">\r\n            <h2 className=\"title\">Login</h2>\r\n            <h2 className=\"username\">UserName:</h2>\r\n            <h2 className=\"password\">Password:</h2>\r\n\r\n            <input type=\"text\" className=\"e-name\" rows=\"1\" cols=\"20\" onChange={(event) => setUserName(event.target.value)} />\r\n            <input type=\"password\" className=\"e-pass\" rows=\"1\" cols=\"20\" onChange={(event) => setPassword(event.target.value)} />\r\n\r\n            <form onSubmit={(event) => sendLoginData(event, userName, password, history)}>\r\n                <button type=\"submit\" className=\"go-button\">\r\n                    GO\r\n                </button>\r\n            </form>\r\n\r\n            <a href=\"/signup\" className=\"sign-up-button\">Sign up</a>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}