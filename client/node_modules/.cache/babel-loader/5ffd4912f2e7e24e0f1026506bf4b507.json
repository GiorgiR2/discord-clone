{"ast":null,"code":"var _jsxFileName = \"/home/giorgir/Desktop/web projects/discord-mern/client/src/components/Chat/_editCat.js\";\nimport React, { useRef } from \"react\";\nimport axios from \"axios\";\nimport \"./_editCat.sass\";\n\nconst PopupEditCat = ({\n  setDisplay,\n  catjson,\n  setCatJson,\n  elementId\n}) => {\n  const newNameRef = useRef();\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"popup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 17\n    }\n  }, \"New Name:\"), /*#__PURE__*/React.createElement(\"input\", {\n    rows: \"1\",\n    columns: \"20\",\n    ref: newNameRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"buttons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"cancel\",\n    onClick: () => setDisplay(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 21\n    }\n  }, \"CANCEL\"), /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"go\",\n    onClick: event => sendEditCommand(event, elementId, catjson, setCatJson, newNameRef.current.value, setDisplay),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 21\n    }\n  }, \"GO\"))));\n};\n\nconst PopupAddCat = ({\n  setDisplay,\n  catjson,\n  setCatJson\n}) => {\n  const newNameRef = useRef();\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"popup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 17\n    }\n  }, \"Add Category:\"), /*#__PURE__*/React.createElement(\"input\", {\n    rows: \"1\",\n    columns: \"20\",\n    ref: newNameRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"buttons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"cancel\",\n    onClick: () => setDisplay(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 21\n    }\n  }, \"CANCEL\"), /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"go\",\n    onClick: event => sendAddCommand(event, catjson, setCatJson, newNameRef.current.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 21\n    }\n  }, \"GO\"))));\n};\n\nconst sendEditCommand = (event, elementId, catJson, setCatJson, newName, setDisplay) => {\n  // console.log(\"newName =\", newName);\n  // console.log(\"id =\", elementId);\n  // console.log(catJson);\n  if (newName != \"\") {\n    axios.post(\"/api/editCat\", {\n      catId: elementId,\n      newCatName: newName\n    }).then(res => {\n      if (res.data.status === \"done\") {\n        // update category name\n        setDisplay(false);\n        let newJson = catJson.map(cat => {\n          if (cat._id === elementId) {\n            return {\n              name: newName,\n              position: cat.position,\n              voice: cat.voice,\n              __v: cat.__v,\n              _id: cat._id\n            };\n          } else return cat;\n        });\n        setCatJson(newJson);\n      } else if (res.data.status === \"try again\") {\n        alert(\"try again...\");\n      }\n    }).catch(err => console.error(err));\n  }\n};\n\nconst sendAddCommand = (event, catJson, setCatJson, newName) => {\n  // console.log(\"newName =\", newName);\n  // console.log(catJson);\n  if (newName !== \"\") {\n    alert(\"function not available...\"); // axios.post(\"/api/addCat\", { newCatName: newName })\n    // .then(res => {\n    //     if (res.data.status === \"done\"){\n    //         // add cat\n    //         let newJson = [...catJson, ];\n    //         setCatJson(newJson);\n    //     }\n    //     else if (res.data.status === \"try again\"){\n    //         alert(\"try again...\");\n    //     }\n    // })\n    // .catch(err => console.error(err));\n  }\n};\n\nconst editCat = (event, id, display, setDisplay, setElementId) => {\n  event.preventDefault();\n  setDisplay(true);\n  setElementId(id); // console.log(\"id\", id, display);\n};\n\nexport { PopupEditCat, PopupAddCat, editCat };","map":{"version":3,"sources":["/home/giorgir/Desktop/web projects/discord-mern/client/src/components/Chat/_editCat.js"],"names":["React","useRef","axios","PopupEditCat","setDisplay","catjson","setCatJson","elementId","newNameRef","event","sendEditCommand","current","value","PopupAddCat","sendAddCommand","catJson","newName","post","catId","newCatName","then","res","data","status","newJson","map","cat","_id","name","position","voice","__v","alert","catch","err","console","error","editCat","id","display","setElementId","preventDefault"],"mappings":"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","sourcesContent":["import React, { useRef } from \"react\";\r\n\r\nimport axios from \"axios\";\r\n\r\nimport \"./_editCat.sass\";\r\n\r\nconst PopupEditCat = ({ setDisplay, catjson, setCatJson, elementId }) => {\r\n    const newNameRef = useRef();\r\n\r\n    return(\r\n        <div className=\"popup\">\r\n            <div className=\"center\">\r\n                <h4 className=\"label\">New Name:</h4>\r\n                <input rows=\"1\" columns=\"20\" ref={newNameRef}/>\r\n\r\n                <div className=\"buttons\">\r\n                    <h4 className=\"cancel\" onClick={() => setDisplay(false)}>\r\n                        CANCEL\r\n                    </h4>\r\n                    <h4 className=\"go\" onClick={(event) =>\r\n                        sendEditCommand(event, elementId, catjson, setCatJson, newNameRef.current.value, setDisplay)}>\r\n                        GO\r\n                    </h4>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst PopupAddCat = ({ setDisplay, catjson, setCatJson }) => {\r\n    const newNameRef = useRef();\r\n\r\n    return(\r\n        <div className=\"popup\">\r\n            <div className=\"center\">\r\n                <h4 className=\"label\">Add Category:</h4>\r\n\r\n                <input rows=\"1\" columns=\"20\" ref={newNameRef}/>\r\n\r\n                <div className=\"buttons\">\r\n                    <h4 className=\"cancel\" onClick={() => setDisplay(false)}>\r\n                        CANCEL\r\n                    </h4>\r\n                    <h4 className=\"go\" onClick={(event) => sendAddCommand(event, catjson, setCatJson, newNameRef.current.value)}>\r\n                        GO\r\n                    </h4>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst sendEditCommand = (event, elementId, catJson, setCatJson, newName, setDisplay) => {\r\n    // console.log(\"newName =\", newName);\r\n    // console.log(\"id =\", elementId);\r\n    // console.log(catJson);\r\n    if (newName != \"\"){\r\n        axios.post(\"/api/editCat\", { catId: elementId, newCatName: newName })\r\n        .then(res => {\r\n            if (res.data.status === \"done\"){\r\n                // update category name\r\n\r\n                setDisplay(false);\r\n                let newJson = catJson.map(cat => {\r\n                    if (cat._id === elementId){\r\n                        return {\r\n                            name: newName,\r\n                            position: cat.position,\r\n                            voice: cat.voice,\r\n                            __v: cat.__v,\r\n                            _id: cat._id\r\n                        };\r\n                    }\r\n                    else\r\n                        return cat;\r\n                });\r\n\r\n                setCatJson(newJson);\r\n            }\r\n            else if (res.data.status === \"try again\"){\r\n                alert(\"try again...\");\r\n            }\r\n        })\r\n        .catch(err => console.error(err));\r\n    }\r\n}\r\n\r\nconst sendAddCommand = (event, catJson, setCatJson, newName) => {\r\n    // console.log(\"newName =\", newName);\r\n    // console.log(catJson);\r\n    if (newName !== \"\"){\r\n        alert(\"function not available...\");\r\n        // axios.post(\"/api/addCat\", { newCatName: newName })\r\n        // .then(res => {\r\n        //     if (res.data.status === \"done\"){\r\n        //         // add cat\r\n        //         let newJson = [...catJson, ];\r\n\r\n        //         setCatJson(newJson);\r\n        //     }\r\n        //     else if (res.data.status === \"try again\"){\r\n        //         alert(\"try again...\");\r\n        //     }\r\n        // })\r\n        // .catch(err => console.error(err));\r\n    }\r\n}\r\n\r\nconst editCat = (event, id, display, setDisplay, setElementId) => {\r\n    event.preventDefault();\r\n    setDisplay(true);\r\n    setElementId(id);\r\n\r\n    // console.log(\"id\", id, display);\r\n}\r\n\r\nexport {\r\n    PopupEditCat, PopupAddCat, editCat,\r\n};"]},"metadata":{},"sourceType":"module"}